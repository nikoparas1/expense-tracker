<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Login</title>

    <!-- Ionicons from CDN -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>

    <!-- Your static CSS/JS -->
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <script th:src="@{/js/register.js}" defer></script>
  </head>

  <body>
    <section>
      <form th:action="@{/auth/login}" method="post">
        <!-- CSRF token -->
        <input
          type="hidden"
          th:name="${_csrf.parameterName}"
          th:value="${_csrf.token}"
        />

        <h1>Login</h1>

        <div class="dialog-row">
          <label
            th:if="${param.error}"
            th:text="${session['SPRING_SECURITY_LAST_EXCEPTION'].message}"
            class="text-center redText"
          >
          </label>
        </div>

        <div class="inputbox">
          <ion-icon name="email-outline"></ion-icon>
          <input name="username" type="text" id="username" required />
          <label for="username">Username</label>
        </div>

        <div class="inputbox">
          <ion-icon name="lock-closed-outline"></ion-icon>
          <input name="password" type="password" id="password" required />
          <label for="password">Password</label>
        </div>

        <div class="register">
          <p><a href="#">Forgot Password?</a></p>
        </div>

        <button type="submit">Log in</button>

        <div class="register">
          <p>
            Donâ€™t have an account?
            <a th:href="@{/auth/register}">Register</a>
          </p>
        </div>
      </form>
    </section>
  </body>
</html>
